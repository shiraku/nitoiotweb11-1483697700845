"use strict";angular.module("nitoiotweb11App",["ngCookies","ngResource","ngSanitize","ngMaterial","ngRoute","ngAnimate","ngAria","ngMessages","ngCookies","ui.bootstrap","uiGmapgoogle-maps","googlechart"]).config(["$routeProvider","$locationProvider",function(a,b){a.when("/menu",{redirectTo:"/menu"}).otherwise({redirectTo:"/"}),b.html5Mode(!0)}]).directive("navitop",function(){return{priority:0,templateUrl:"../components/navbar/navbar.html",replace:!1,transclude:!1,restrict:"E",scope:!1,controller:"NavbarCtrl"}}).directive("buttonpen",function(){return{scope:!0,restrict:"E",template:'<svg xmlns="http://www.w3.org/2000/svg" fill="#000000" height="24" viewBox="0 0 24 24" width="24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}}).directive("buttontrashbox",function(){return{scope:!0,restrict:"E",template:'<svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'}}).directive("buttondetail",function(){return{scope:!0,restrict:"E",template:'<defs></defs><svg width="24px" height="24px" viewBox="315 15 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="Material/Icons-black/chevron-right" stroke="none" fill="none" transform="translate(315.000000, 15.000000)" fill-rule="evenodd"><polygon id="Shape" fill="#D8001A" points="8.59997559 7.4 9.99997559 6 15.9999756 12 9.99997559 18 8.59997559 16.6 13.1999756 12"></polygon></g></svg>'}}).factory("SharedService",["$rootScope",function(a){var b="",c="",d="",e="",f="",g="",h="",i="";return{text:{get:function(){var a={latitude:b,longitude:c,address:d};return a},set:function(e,f,g){b=e,c=f,g&&(d=g),a.$broadcast("changedText")},setAddress:function(b){d=b,a.$broadcast("changedText")}},telNo:{get:function(){return e},set:function(b){e=b,a.$broadcast("changedTelNo")}},alert:{get:function(){var a={name:f,mailAddress:g,key:h};return a},set:function(b,c,d){f=b,g=c,h=d,a.$broadcast("changedAlert")}},deletealert:{get:function(){return i},set:function(b){i=b,a.$broadcast("deletealert")}}}}]),angular.module("nitoiotweb11App").controller("DeviceListCtrl",["$rootScope","$routeParams","$scope","$http","$location","GoogleChartService","$modal","$interval",function(a,b,c,d,e,f,g,h){c.modalInstance=g.open({templateUrl:"T_inProgress",backdrop:"static",keyboard:!1}),c.navtitle="デバイス一覧",c.selectItems=[{value:"day",label:"１日"},{value:"week",label:"１週間"},{value:"month",label:"１か月"},{value:"year",label:"１年"}],c.selectItem="month",d.get("/api/device_list/").then(function(a){console.log("/api/device_list/ successfully"),console.log(a);var b=a.data;c.deviceList=b.device_list,console.log(c.deviceList);var d=35.459923,e=139.63529,f=e,g=d,h=e,i=d,j=new google.maps.Map(document.getElementById("map-deviceList"),{zoom:13,center:new google.maps.LatLng(d,e)});c.markers=[],angular.forEach(c.deviceList,function(a,b){if("感知あり"==a.status){var k;switch(!0){case a.seismicIntensity>6.5:k="7";break;case 6<a.seismicIntensity&&a.seismicIntensity<6.5:k="6_u";break;case 5.5<a.seismicIntensity&&a.seismicIntensity<6:k="6";break;case 5<a.seismicIntensity&&a.seismicIntensity<5.5:k="5_u";break;case 4.5<a.seismicIntensity&&a.seismicIntensity<5:k="5";break;default:k=Math.round(a.seismicIntensity)}Math.round(a.seismicIntensity);var l="/assets/images/marker"+k+".png",m={url:l,scaledSize:new google.maps.Size(20,34)},n=new google.maps.Marker({map:j,position:new google.maps.LatLng(a.latitude,a.longitude),title:a.deviceName,icon:m})}else var n=new google.maps.Marker({map:j,position:new google.maps.LatLng(a.latitude,a.longitude),title:a.deviceName});c.markers.push(n);var o="デバイス名："+a.deviceName+"<br>最新状況："+a.status;void 0==a.type||("EQ"==a.type?o+="<br>震度："+a.seismicIntensity:"FL"==a.type&&(o+="<br>雷："+a.power));var p=new google.maps.InfoWindow({content:o});google.maps.event.addListener(n,"mouseover",function(){p.open(j,n)}),google.maps.event.addListener(n,"mouseout",function(){p.close()}),0==b&&(d=a.latitude,e=a.longitude,f=e,g=d,h=e,i=d);var q=a.latitude,r=a.longitude;f>=r&&(f=r),r>h&&(h=r),g>=q&&(g=q),q>i&&(i=q)});var k=new google.maps.LatLng(i,f),l=new google.maps.LatLng(g,h),m=new google.maps.LatLngBounds(k,l);j.fitBounds(m)},function(a){console.error("error in posting")}),c.getEnvLatest=function(){d.get("/api/device_env_latest/dd4c78468628/").then(function(a){var b=a.data.docs[0].payload.d,d={};d.temperature=b.temperature,d.humidity=b.humidity,d.pressure=b.pressure;var e=function(a){switch(!0){case 3>a:return"弱い";case a>3&&6>a:return"中程度";case a>6&&8>a:return"強い";case a>8&&10>a:return"非常に強い";case a>10:return"極端に強い";default:return"計測エラー"}};d.uvi=e(b.uvi);var f=function(a){switch(!0){case 75>a:return"暑くない";case a>75&&80>a:return"やや暑い";case a>80&&85>a:return"暑くて汗が出る";case a>85:return"暑くてたまらない";default:return"計測エラー"}};d.discomfortIndex=f(b.discomfortIndex);var g=function(a){switch(!0){case 21>a:return"ほぼ安全";case a>21&&25>a:return"注意";case a>25&&28>a:return"警戒";case a>28&&31>a:return"厳重警戒";case a>31:return"運動は原則中止";default:return"計測エラー"}};d.heatstroke=g(b.heatstroke),d.noise=b.noise,c.env=d},function(a){console.error("error in posting")})},c.getEnvLatest(),h(c.getEnvLatest,18e5),c.graphDataElem=[],c.graphDatas=[],d.get("/api/user/").then(function(a){for(var b=0;b<a.data.device.length;b++){a.data.device[b].name;d.get("/api/device_history_eq/"+a.data.device[b].id).then(function(a){c.graphDataElem.push(a.data),c.$emit("graphDataElem",a.data),a.data.hasOwnProperty("data")&&c.graphDatas.push(a.data)},function(a){console.error("error in posting")})}},function(a){console.error("error in posting")}),c.$on("deviceInfoFinished",function(a){console.log("deviceInfoFinished"),c.modalInstance.close()}),c.$on("deviceListFinished",function(a){c.graphDatas.forEach(function(a){google.charts.load("current",{packages:["controls","corechart","bar"]}),google.charts.setOnLoadCallback(function(){var b=new google.visualization.DataTable;b.addColumn("datetime","yyyy/mm/dd hh:mm"),b.addColumn("number","震度");for(var d=[],e=0;a.data.length>e;e++){var f=a.data[e],g="array"==typeof f.datas?f.datas[0].value:f.datas.seismicIntensity;d.push([new Date(f.date),Number(g)])}b.addRows(d);var h,i=new Date;switch(c.selectItem){case"day":h=new Date(i.setDate(i.getDate()-1));break;case"week":h=new Date(i.setDate(i.getDate()-7));break;case"month":h=new Date(i.setMonth(i.getMonth()-1));break;case"year":h=new Date(i.setFullYear(i.getFullYear()-1));break;default:h=new Date(i.setMonth(i.getMonth()-1))}var j={hAxis:{title:"日時",format:"day"!=c.selectItem?"yyyy/MM/dd":"dd hh:mm",viewWindow:{min:h,max:new Date}},vAxis:{title:"震度",viewWindow:{min:0,max:8}},legend:"none"},k="DEV_"+a.device_id;document.getElementById(k).innerHTML="";var l=new google.visualization.ColumnChart(document.getElementById(k));l.draw(b,j)})})}),c.$watch("selectItem",function(b,d,e){console.log(b),c.selectItem=b,a.$broadcast("deviceListFinished")});c.deviceDetail=function(){e.path("/user_"+b.USER_ID+"/device_"+this.item.deviceId.split("_")[1])},c.envLogData=function(a){e.path("/user_"+b.USER_ID+"/device_"+this.item.deviceId.split("_")[1]+"/env_"+a)}}]).directive("onFinishRender",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){b.$last===!0&&a(function(){b.$emit(d.onFinishRender)})}}}]),angular.module("nitoiotweb11App").controller("DeviceGroupCtrl",["$rootScope","$routeParams","$scope","$http","$location","$mdDialog","$timeout","SharedService","filterFilter",function(a,b,c,d,e,f,g,h,i){function j(b,c){var e={};c?(e.title="メールアドレスの追加",e.placeholder_name="名前",e.placeholder_mailid="メールアドレス"):(e.title="メールアドレスの編集",e.placeholder_name=this.item.name,e.placeholder_mailid=this.item.mailid,e.placeholder_key=this.item.id),f.show({targetEvent:b,template:'<form name="dialog"><md-dialog>  <md-dialog-content class="md-dialog-content" role="document" tabindex="-1" id="dialogContent_2">    <h2 class="md-title ng-binding">'+e.title+'</h2>    <div class="md-dialog-content-body ng-scope">     <p class="ng-binding"></p>   </div>   <md-input-container md-no-float="" class="md-prompt-input-container ng-scope md-input-has-placeholder md-default-theme">     <input ng-keypress="dialog.keypress($event)" md-autofocus="" ng-model="name" name="name" placeholder='+e.placeholder_name+" initialValue="+e.placeholder_name+' class="ng-pristine ng-valid md-autofocus md-input ng-empty ng-touched" aria-label="送信名" id="input_3" aria-invalid="false" style="">     <div class="md-errors-spacer"></div>   </md-input-container>   <md-input-container md-no-float="" class="md-prompt-input-container ng-scope md-input-has-placeholder md-default-theme md-prompt-input-container-2">     <input type="email" ng-keypress="dialog.keypress($event)" md-autofocus="" ng-model="mailAddress" name="mailAddress" placeholder='+e.placeholder_mailid+" initialValue="+e.placeholder_mailid+' class="ng-pristine ng-valid md-autofocus md-input ng-empty ng-touched" aria-label="メールアドレス" id="input_3" aria-invalid="false" style="">     <div ng-messages="dialog.mailAddress.$error"  class="md-errors-spacer" ng-hide="dialog.mailAddress.$valid">     <div ng-message="email">メールアドレスを正しく入力してください</div>     </div>   </md-input-container> </md-dialog-content> <md-dialog-actions> <button class="md-primary md-cancel-button md-button ng-scope md-default-theme md-ink-ripple" type="button" ng-click="closeDialog()" style="">キャンセル</button> <button class="md-primary md-confirm-button md-button md-ink-ripple md-default-theme" type="button" ng-click="checkRegi()">登録</button> </md-dialog-actions> </md-dialog> </form>',controller:["$scope","$route","$location",function(b,i,j){c||(b.name=e.placeholder_name,b.mailAddress=e.placeholder_mailid),b.closeDialog=function(){f.hide()},b.checkRegi=function(){return void 0==b.dialog.name&&void 0==b.dialog.mailAddress?!1:b.dialog.mailAddress.$invalid?!1:(f.hide(),e.placeholder_key||(e.placeholder_key=!1),void d({method:"POST",url:"/api/user/sendto/check/",data:{name:b.dialog.name.$modelValue,mailid:b.dialog.mailAddress.$modelValue,key:e.placeholder_key}}).then(function(c){return c.data.dupFlag?b.showConfirm(c.data.postDat):void(c.data.error?(a.error=c.data.message,g(function(){a.error=!1},2e3)):(a.success=c.data.message,h.alert.set(b.name,b.mailAddress,e.placeholder_key),g(function(){a.success=!1},2e3)))},function(b){a.error=b.data.message,g(function(){a.error=!1},2e3)}))},b.regist=function(c){var i=c.name||b.dialog.name.$modelValue,j=c.mailid||b.dialog.mailAddress.$modelValue,k=c.key||e.key;if(void 0==i&&void 0==j)return!1;f.hide();k||(k=!1),d({method:"POST",url:"/api/user/sendto/",data:{name:i,mailid:j,key:k}}).then(function(b){b.data.error?(a.error=b.data.message,g(function(){a.error=!1},2e3)):(a.success=b.data.message,h.alert.set(i,j,k),g(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,g(function(){a.error=!1},2e3)})},b.showConfirm=function(a,c){var d=f.confirm().title("入力されたメールアドレスがすでに登録されています。").textContent("通知があった場合そのメールアドレスに複数通知が送信されますがよろしいですか？").ariaLabel("duplication mail address").targetEvent(c).ok("はい").cancel("キャンセル");f.show(d).then(function(){b.regist(a)},function(){f.hide()})}}]})}function k(b,e){var h=f.prompt().title(e.title).placeholder(e.placeholder).ariaLabel(e.ariaLabel).initialValue(e.initialValue).targetEvent(b).ok(e.ok).cancel(e.cancel);f.show(h).then(function(b){d({method:"post",url:"/api/user/",data:{name:b}}).then(function(d){d.data.error?(a.error=d.data.message,g(function(){a.error=!1},2e3)):(a.success=d.data.message,c.groupName=b,g(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,g(function(){a.error=!1},2e3)})})}a.success=!1,a.error=!1,d.get("/api/user/").then(function(a){var d=a.data;c.navtitle=d.name,c.groupId=b.USER_ID,c.groupName=d.name,c.deviceList=d.device,c.sendto=d.sendto;var e=document.cookie.split("; ").filter(function(a){return"admin_mflg"==a.split("=")[0]?a:void 0}),f=e[0].split("=")[1];"true"==f?c.isAdmin=!0:c.isAdmin=!1},function(a){console.error("error in posting")}),c.deviceDetail=function(){e.path("/user_"+b.USER_ID+"/device_"+this.item.id+"/edit")},c.alertSetting=function(){e.path("/user_"+b.USER_ID+"/group/alert")},c.groupNameEdit=function(a){var b={title:"グループ名の編集",placeholder:c.groupName,ariaLabel:"",initialValue:c.groupName,ok:"登録",cancel:"キャンセル"};k(a,b)},c.$on("changedAlert",function(){var a=h.alert.get();a.key?(i(c.sendto,a.key)[0].name=a.name,i(c.sendto,a.key)[0].mailid=a.mailAddress):c.sendto.push({mailid:a.mailAddress,name:a.name})}),c.$on("deletealert",function(){var a=h.deletealert.get(),b=[];angular.forEach(c.sendto,function(c,d,e){c.mailid!=a&&b.push(c)}),c.sendto=b}),c.mailAddressAdd=j,c.mailAddressEdit=j,c.mailAddressDelete=function(b){var c=this.item.id,e=f.confirm().title("メールアドレスの削除").textContent("本当にメールアドレスを削除してもいいですか？").ariaLabel("Lucky day").targetEvent(b).ok("削除").cancel("キャンセル");f.show(e).then(function(){d({method:"DELETE",url:"/api/user/sendto/"+c+"/"}).then(function(b){b.data.error?(a.error=b.data.message,g(function(){a.error=!1},2e3)):(a.success=b.data.message,h.deletealert.set(c),g(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,g(function(){a.error=!1},2e3)})},function(){})}}]),angular.module("nitoiotweb11App").controller("AlertSettingCtrl",["$rootScope","$routeParams","$scope","$http","$location","$mdDialog",function(a,b,c,d,e,f){a.success=!1,a.error=!1,b.DEVICE_ID?(c.navtitle="アラート設定",c.backUrl="/user_"+b.USER_ID+"/device_"+b.DEVICE_ID+"/edit",c["case"]="device"):(c.navtitle="アラート設定",c.backUrl="/user_"+b.USER_ID+"/group",c["case"]="group"),c.slider={seismicIntensity:3,si:3,longPeriodGroundMotion:2},c["switch"]={seismicIntensity:!0,si:!1,longPeriodGroundMotion:!0,slope:!0,lightningSurge:!0,commercialBlackout:!0,equipmentAbnormality:!0},c.switchSI=!1,d.get("/api/alert/").then(function(a){var b=a.data;b.seismicIntensityFlg||b.siFlg?b.seismicIntensityFlg?(c["switch"].si=!1,c.slider.si=parseInt(b.si),c["switch"].seismicIntensity=!0,c.slider.seismicIntensity=parseInt(b.seismicIntensity,10),c.switchSI=!1):b.siFlg&&(c["switch"].si=!0,c.slider.si=parseFloat(b.si),c["switch"].seismicIntensity=!1,c.slider.seismicIntensity=parseInt(b.seismicIntensity,10),c.switchSI=!0):(c["switch"].si=!1,c["switch"].seismicIntensity=!1,c.switchSI=!1),b.lpgm>0?(c["switch"].longPeriodGroundMotion=!0,c.slider.longPeriodGroundMotion=parseInt(b.lpgm,10)):c["switch"].longPeriodGroundMotion=!1,c["switch"].slope=b.slope,c["switch"].lightningSurge=b.lightningSurge,c["switch"].commercialBlackout=b.commercialBlackout,c["switch"].equipmentAbnormality=b.equipmentAbnormality},function(a){console.error("error in posting")}),c.switchIntensity=function(a){a=a?!0:!1},c.cancel=function(){e.path(c.backUrl)},c.regist=function(){"group"==c["case"]?c.postUrl="group"+b.USER_ID:c.postUrl="device"+b.USER_ID+b.DEVICE_ID;var a={switchSI:c.switchSI,seismicIntensityFlg:c["switch"].seismicIntensity,seismicIntensity:c.slider.seismicIntensity,siFlg:c["switch"].si,si:c.slider.si,lpgm:c.slider.longPeriodGroundMotion,slope:c["switch"].slope,lightningSurge:c["switch"].lightningSurge,commercialBlackout:c["switch"].commercialBlackout,equipmentAbnormality:c["switch"].equipmentAbnormality};d({method:"post",url:"/api/alert/",data:a}).then(function(a){e.path(c.backUrl)},function(a){console.error("error in posting")})}}]),angular.module("nitoiotweb11App").controller("DeviceDetailCtrl",["$rootScope","$routeParams","$scope","$http","$location",function(a,b,c,d,e){d.get("/api/device_detail/"+b.DEVICE_ID).then(function(a){var e=a.data;e.earthquakeCurrentData&&(c.earthquakeCurrentData=e.earthquakeCurrentData),e.thunderCurrentData&&(c.thunderCurrentData=e.thunderCurrentData),c.navtitle=e.deviceName,c.deviceDetail={deviceId:e._id,deviceName:e.deviceName,responsiblePerson:e.responsiblePerson,telNo:e.telNo,address:e.address,memo:e.memo},d.get("/api/comment/related/DEV_"+b.DEVICE_ID+"_"+e.earthquakeCurrentData.data.date_id+"/").then(function(a){a.data&&(c.commentList=a.data)})},function(a){console.error("error in /api/device_detail/00000")}),d.get("/api/device_history_eq/"+b.DEVICE_ID).then(function(a){c.earthquakeHistoryList=a.data.data},function(a){console.error("error in /api/device_history_eq/"+b.DEVICE_ID)}),d.get("/api/device_history_fl/"+b.DEVICE_ID).then(function(a){c.thunderHistoryList=a.data.data},function(a){console.error("error in /api/device_history_fl/"+b.DEVICE_ID)}),c.earthquakeHistoryViews=10,c.thunderHistoryViews=10,c.nextView=10,c.earthquakeHistoryMoreClick=function(){c.moreCount++,c.earthquakeHistoryViews=c.earthquakeHistoryViews+c.nextView},c.thunderHistoryMoreClick=function(){c.moreCount++,c.thunderHistoryViews=c.thunderHistoryViews+c.nextView},c.deviceDetailData=function(a,c){var d=a||this.item.date_id,f=c||this.item.type;void 0===f&&(f="FL"),e.path("/user_"+b.USER_ID+"/device_"+b.DEVICE_ID+"/date"+d+"/"+f)}}]),angular.module("nitoiotweb11App").controller("DeviceDetailDataCtrl",["$rootScope","$routeParams","$scope","$http","$location","$mdDialog","$window","$timeout",function(a,b,c,d,e,f,g,h){var i=b.YYYYMMDDHHMM,j=i.slice(0,4),k=i.slice(4,6),l=i.slice(6,8);c.navtitle=j+"/"+k+"/"+l+"詳細データ";var m=b.YYYYMMDDHHMM.substr(0,4)+"-"+b.YYYYMMDDHHMM.substr(4,2)+"-"+b.YYYYMMDDHHMM.substr(6,2)+"T"+b.YYYYMMDDHHMM.substr(8,2)+":"+b.YYYYMMDDHHMM.substr(10,2)+":"+b.YYYYMMDDHHMM.substr(12,2),n=m+"_"+b.DEVICE_ID;d.get("/api/chart_acceleration/"+n).then(function(a){c.chart_acceleration="data:image/jpg;base64,"+a.data.toString("base64")},function(a){console.error("error in /api/chart_acceleration/")}),d.get("/api/device_detail_data/"+b.DEVICE_ID+"/"+b.YYYYMMDDHHMM+"/"+b.TYPE).then(function(a){console.log("/api/device_detail/ successfully"),console.log(a);var e,f=a.data[0];if(f.data.datas&&(e=f.data.datas[0]),e.commercialBlackout?e.commercialBlackout="あり":e.commercialBlackout="なし",e.equipmentAbnormality?e.equipmentAbnormality="あり":e.equipmentAbnormality="なし",e.leakage?e.leakage="あり":e.leakage="なし",e.slope?e.slope="あり（"+e.slope+"°）":e.slope="なし",e.power)switch(e.power){case 1:e.power="小";break;case 2:e.power="中";break;case 3:e.power="大"}c.detailData={deviceId:f._id,deviceName:f.deviceName,type:e.type,seismicIntensity:e.seismicIntensity,power:e.power,slope:e.slope,leakage:e.leakage,commercialBlackout:e.commercialBlackout,equipmentAbnormality:e.equipmentAbnormality},d.get("/api/comment/related/DEV_"+b.DEVICE_ID+"_"+b.YYYYMMDDHHMM+"/").then(function(a){a.data&&(c.detailData.commentList=a.data)}),f.mediaNewsletter&&(c.detailData.mediaNewsletter=f.mediaNewsletter),d.get("/api/device_list/logdate/"+b.DEVICE_ID+"/"+b.YYYYMMDDHHMM+"/"+e.type).then(function(a){c.deviceList=a.data;var d,g=new google.maps.Map(document.getElementById("map-detailData"),{zoom:13,center:new google.maps.LatLng(f.latitude,f.longitude)});c.markers=[];for(var h=0;h<a.data.length;h++){"EQ"==e.type||"AL"==e.type?d=b.DEVICE_ID==a.data[h].value.did?"/assets/images/markerNow"+a.data[h].value.s+".png":"/assets/images/marker"+a.data[h].value.s+".png":"FL"==e.type&&(d=b.DEVICE_ID==a.data[h].value.did?"/assets/images/markerNow"+a.data[h].value.s+"_thunder.png":"/assets/images/marker"+a.data[h].value.s+"_thunder.png");var i={url:d,scaledSize:new google.maps.Size(20,34)},j=new google.maps.Marker({map:g,position:new google.maps.LatLng(a.data[h].value.lon,a.data[h].value.lat),icon:i});c.markers.push(j),j.setMap(g)}})},function(a){console.error("error in /api/device_detail/")}),c.addComment=function(c){var e="コメント追加";f.show({targetEvent:c,template:'<form name="dialog"><md-dialog>  <md-dialog-content class="md-dialog-content" role="document" tabindex="-1" id="dialogContent_2">    <h2 class="md-title ng-binding">'+e+'</h2>    <div class="md-dialog-content-body ng-scope">     <p class="ng-binding"></p>   </div><md-input-container class="md-block"><textarea ng-model="biography" name="biography" md-maxlength="150" rows="5" md-select-on-focus=""></textarea></md-input-container>  <md-checkbox ng-model="tos" name="tos" required="">重要なコメントとして登録する</md-checkbox> </md-dialog-content> <md-dialog-actions> <button class="md-primary md-cancel-button md-button ng-scope md-default-theme md-ink-ripple" type="button" ng-click="closeDialog()" style="">キャンセル</button> <button class="md-primary md-confirm-button md-button md-ink-ripple md-default-theme" type="button" ng-click="regist()">登録</button> </md-dialog-actions> </md-dialog> </form>',controller:["$scope","$route","$location",function(c,e,g){c.closeDialog=function(){f.hide()},c.regist=function(){f.hide();var e=c.dialog.tos.$modelValue||!1;d({method:"post",url:"/api/comment/DEV_"+b.DEVICE_ID+"_"+b.YYYYMMDDHHMM+"/",data:{comment:c.dialog.biography.$modelValue,impFlg:e}}).then(function(b){b.data.error?a.error=b.data.message:a.success=b.data.message},function(b){a.error=b.data.message})}}]})}}]),angular.module("nitoiotweb11App").controller("DeviceInfoEditCtrl",["$rootScope","$routeParams","$scope","$http","$location","$mdDialog","SharedService","$timeout","filterFilter","uiGmapIsReady",function(a,b,c,d,e,f,g,h,i,j){function k(c,e){var f=g.text.get();void 0==f.latitude&&(f.latitude=34.4506112,f.longitude=125.3561481),c.latitude=f.latitude,c.longitude=f.longitude,c.map={center:{latitude:f.latitude,longitude:f.longitude},zoom:13,control:{},markers:{},events:{click:function(a,b,d){c.latitude=d[0].latLng.lat(),c.longitude=d[0].latLng.lng(),c.markers=[{id:1,latitude:d[0].latLng.lat(),longitude:d[0].latLng.lng()}],c.$apply()}}},j.promise().then(function(a){if(f.address){var b=new google.maps.Geocoder;b.geocode({address:f.address},function(a,b){b==google.maps.GeocoderStatus.OK&&c.map.control.getGMap().setCenter(a[0].geometry.location)})}}),c.markers=[{id:1,latitude:f.latitude,longitude:f.longitude}],c.closeDialog=function(){e.hide()},c.regist=function(){e.hide(),g.text.set(c.latitude,c.longitude),d({method:"post",url:"/api/device_basicinfo/"+b.DEVICE_ID+"/",data:{latitude:c.latitude,longitude:c.longitude}}).then(function(b){b.data.error?(a.error=b.data.message,h(function(){a.error=!1},2e3)):(a.success=b.data.message,h(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,h(function(){a.error=!1},2e3)})}}function l(e,i){var j=f.prompt().title(i.title).placeholder(i.placeholder).ariaLabel(i.ariaLabel).initialValue(i.initialValue).targetEvent(e).ok(i.ok).cancel(i.cancel),k=i.itemKey;f.show(j).then(function(e){var f={};f[k]=e,d({method:"post",url:"/api/device_basicinfo/"+b.DEVICE_ID+"/",data:f}).then(function(b){b.data.error?(a.error=b.data.message,h(function(){a.error=!1},2e3)):(a.success=b.data.message,c.deviceGroupData[k]=e,"address"==k&&g.text.setAddress(e),h(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,h(function(){a.error=!1},2e3)})})}function m(c,e,i){f.show({targetEvent:e.targetEvent,template:e.template,controller:["$scope","$route","$location",function(c,e,j){c.telNo=i,c.closeDialog=function(){f.hide()},c.regist=function(){return void 0==c.dialog.telNo?!1:c.dialog.telNo.$invalid?!1:(f.hide(),void d({method:"post",url:"/api/device_basicinfo/"+b.DEVICE_ID+"/",data:{telNo:c.dialog.telNo.$modelValue}}).then(function(b){b.data.error?(a.error=b.data.message,h(function(){a.error=!1},2e3)):(a.success=b.data.message,g.telNo.set(c.telNo),h(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,h(function(){a.error=!1},2e3)}))}}]})}function n(b,c){var e={};c?(e.title="メールアドレスの追加",e.placeholder_name="名前",e.placeholder_mailid="メールアドレス"):(e.title="メールアドレスの編集",e.placeholder_name=this.item.name,e.placeholder_mailid=this.item.mailid,e.placeholder_key=this.item.id),f.show({targetEvent:b,template:'<form name="dialog"><md-dialog>  <md-dialog-content class="md-dialog-content" role="document" tabindex="-1" id="dialogContent_2">    <h2 class="md-title ng-binding">'+e.title+'</h2>    <div class="md-dialog-content-body ng-scope">     <p class="ng-binding"></p>   </div>   <md-input-container md-no-float="" class="md-prompt-input-container ng-scope md-input-has-placeholder md-default-theme">     <input ng-keypress="dialog.keypress($event)" md-autofocus="" ng-model="name" name="name" value="'+e.placeholder_name+'" placeholder='+e.placeholder_name+' class="ng-pristine ng-valid md-autofocus md-input ng-empty ng-touched" aria-label="送信者" id="input_3" aria-invalid="false" style="">     <div class="md-errors-spacer"></div>   </md-input-container>   <md-input-container md-no-float="" class="md-prompt-input-container ng-scope md-input-has-placeholder md-default-theme md-prompt-input-container-2">     <input type="email" ng-keypress="dialog.keypress($event)" md-autofocus="" ng-model="mailAddress" name="mailAddress" value='+e.placeholder_mailid+" placeholder="+e.placeholder_mailid+' class="ng-pristine ng-valid md-autofocus md-input ng-empty ng-touched" aria-label="メールアドレス" id="input_3" aria-invalid="false" style="">     <div ng-messages="dialog.mailAddress.$error"  class="md-errors-spacer" ng-hide="dialog.mailAddress.$valid">     <div ng-message="email">メールアドレスを正しく入力してください</div>     </div>   </md-input-container> </md-dialog-content> <md-dialog-actions> <button class="md-primary md-cancel-button md-button ng-scope md-default-theme md-ink-ripple" type="button" ng-click="closeDialog()" style="">キャンセル</button> <button class="md-primary md-confirm-button md-button md-ink-ripple md-default-theme" type="button" ng-click="checkRegi()">登録</button> </md-dialog-actions> </md-dialog> </form>',controller:["$scope","$route","$location",function(b,i,j){c||(b.name=e.placeholder_name,b.mailAddress=e.placeholder_mailid),b.closeDialog=function(){f.hide()},b.checkRegi=function(){if(void 0==b.dialog.name&&void 0==b.dialog.mailAddress)return!1;if(b.dialog.mailAddress.$invalid)return!1;f.hide(),e.placeholder_key||(e.placeholder_key=!1);var c=document.cookie.split("; ").filter(function(a){return"admin_mflg"==a.split("=")[0]?a:void 0}),i=c[0].split("=")[1],j="true"==i?!0:!1;d({method:"POST",url:"/api/user/sendto/check/",data:{name:b.dialog.name.$modelValue,mailid:b.dialog.mailAddress.$modelValue,key:e.placeholder_key,adminFlg:j}}).then(function(c){return c.data.dupFlag?b.showConfirm(c.data.postDat):void(c.data.error?(a.error=c.data.message,h(function(){a.error=!1},2e3)):(a.success=c.data.message,g.alert.set(b.name,b.mailAddress,e.placeholder_key),h(function(){a.success=!1},2e3)))},function(b){a.error=b.data.message,h(function(){a.error=!1},2e3)})},b.regist=function(c){var i=c.name||b.dialog.name.$modelValue,j=c.mailid||b.dialog.mailAddress.$modelValue,k=c.key||e.key;if(void 0==i&&void 0==j)return!1;f.hide();var l={name:i,mailid:j,key:k};k||(k=!1);var m=document.cookie.split("; ")[0].split("=")[1];l.adminFlg="true"==m?!0:!1,d({method:"POST",url:"/api/user/sendto/",data:l}).then(function(b){b.data.error?(a.error=b.data.message,h(function(){a.error=!1},2e3)):(a.success=b.data.message,g.alert.set(i,j,k),h(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,h(function(){a.error=!1},2e3)})},b.showConfirm=function(a,c){var d=f.confirm().title("入力されたメールアドレスがすでに登録されています。").textContent("通知があった場合そのメールアドレスに複数通知が送信されますがよろしいですか？").ariaLabel("duplication mail address").targetEvent(c).ok("はい").cancel("キャンセル");f.show(d).then(function(){b.regist(a)},function(){f.hide()})}}]})}a.success=!1,a.error=!1,d.get("/api/device_basicinfo/"+b.DEVICE_ID+"/").then(function(a){var b=a.data;c.deviceGroupData={deviceId:b._id,address:b.address,deviceName:b.deviceName,latitude:b.latitude,longitude:b.longitude,memo:b.memo,responsiblePerson:b.responsiblePerson,telNo:b.telNo},g.text.set(c.deviceGroupData.latitude,c.deviceGroupData.longitude,c.deviceGroupData.address),c.navtitle=b.deviceName},function(a){console.error("error in posting")});var o=document.cookie.split("; ")[0].split("=")[1];"true"==o?d.get("/api/device_sender_list/"+b.DEVICE_ID+"/").then(function(a){var b=a.data;c.sendto=b.sendto},function(a){console.error("error in posting")}):d.get("/api/user/").then(function(a){var b=a.data;c.sendto=b.sendto},function(a){console.error("error in posting")}),c.alertSetting=function(){e.path("/user_"+b.USER_ID+"/device_"+b.DEVICE_ID+"/alert")},c.$on("changedText",function(){var a=g.text.get();c.deviceGroupData.latitude=a.latitude,c.deviceGroupData.longitude=a.longitude,c.deviceGroupData.address=a.address}),c.$on("changedTelNo",function(){var a=g.telNo.get();c.deviceGroupData.telNo=a}),c.$on("changedAlert",function(){var a=g.alert.get();a.key?(i(c.sendto,a.key)[0].name=a.name,i(c.sendto,a.key)[0].mailid=a.mailAddress):c.sendto.push({mailid:a.mailAddress,name:a.name})}),c.$on("deletealert",function(){var a=g.deletealert.get(),b=[];angular.forEach(c.sendto,function(c,d,e){c.mailid!=a&&b.push(c)}),c.sendto=b}),this.openMenu=function(a,b){originatorEv=b,a(b)},c.deviceNameEdit=function(a){var b={title:"デバイス名の編集",placeholder:"デバイス名",ariaLabel:"",initialValue:c.deviceGroupData.deviceName,itemKey:"deviceName",ok:"登録",cancel:"キャンセル"};l(a,b)},c.addressEdit=function(a){var b={title:"住所の編集",placeholder:"住所",ariaLabel:"",initialValue:c.deviceGroupData.address,itemKey:"address",ok:"登録",cancel:"キャンセル"};l(a,b)},c.latlonEdit=function(a){f.show({controller:k,templateUrl:"dialog1.tmpl.html",parent:angular.element(document.body),targetEvent:a,clickOutsideToClose:!0,fullscreen:c.customFullscreen}).then(function(a){c.status='You said the information was "'+a+'".'},function(){c.status="You cancelled the dialog."})},c.memoEdit=function(a){var b={title:"メモの編集",placeholder:"メモ",ariaLabel:"",initialValue:c.deviceGroupData.memo,itemKey:"memo",ok:"登録",cancel:"キャンセル"};l(a,b)},c.responsiblePersonEdit=function(a){var b={title:"責任者の編集",placeholder:"責任者",ariaLabel:"",initialValue:c.deviceGroupData.responsiblePerson,itemKey:"responsiblePerson",ok:"登録",cancel:"キャンセル"};l(a,b)},c.telNoEdit=function(a){var b=c.deviceGroupData.telNo,d={template:'<form name="dialog"><md-dialog>  <md-dialog-content class="md-dialog-content" role="document" tabindex="-1" id="dialogContent_2">    <h2 class="md-title ng-binding">連絡先</h2>    <div class="md-dialog-content-body ng-scope">     <p class="ng-binding"></p>   </div>   <md-input-container md-no-float="" class="md-prompt-input-container ng-scope md-input-has-placeholder md-default-theme md-prompt-input-container-2">     <input type="text" ng-keypress="dialog.keypress($event)" ng-pattern="/^[0-9]{2,5}-[0-9]{1,4}-[0-9]{4}$/" md-autofocus="" ng-model="telNo" name="telNo" placeholder="連絡先" class="ng-pristine ng-valid md-autofocus md-input ng-empty ng-touched" aria-label="連絡先" id="input_3" aria-invalid="false" style="">     <div ng-messages="dialog.telNo.$error"  class="md-errors-spacer" ng-hide="dialog.telNo.$valid">     <div ng-message="pattern">正しい電話番号の形式で入力してください 例：####-####-####</div>     </div> </md-dialog-content> <md-dialog-actions> <button class="md-primary md-cancel-button md-button ng-scope md-default-theme md-ink-ripple" type="button" ng-click="closeDialog()" style="">キャンセル</button> <button class="md-primary md-confirm-button md-button md-ink-ripple md-default-theme" type="button" ng-click="regist()">登録</button> </md-dialog-actions> </md-dialog> </form>',targetEvent:a};m(a,d,b)},c.mailAddressAdd=n,c.mailAddressEdit=n,c.mailAddressDelete=function(b){var c=this.item.id,e=f.confirm().title("メールアドレスの削除").textContent("本当にメールアドレスを削除してもいいですか？").ariaLabel("Lucky day").targetEvent(b).ok("削除").cancel("キャンセル");f.show(e).then(function(){d({method:"DELETE",url:"/api/user/sendto/"+c+"/"}).then(function(b){b.data.error?(a.error=b.data.message,h(function(){a.error=!1},2e3)):(a.success=b.data.message,g.deletealert.set(c),h(function(){a.success=!1},2e3))},function(b){a.error=b.data.message,h(function(){a.error=!1},2e3)})},function(){})}}]),angular.module("nitoiotweb11App").controller("EnvLogCtrl",["$rootScope","$routeParams","$scope","$http","$location","$window","$timeout",function(a,b,c,d,e,f,g){var h;switch(b.type){case"temp":h="気温・湿度";break;case"pressure":h="気圧";break;case"uvi":
h="紫外線";break;case"discomfortIndex":h="不快指数";break;case"heatstroke":h="熱中症指数";break;case"noise":h="騒音";break;case"pm25":h="PM2.5";break;case"pm10":h="花粉"}c.navtitle=h,"noise"==b.type||"pm25"==b.type||"pm10"==b.type?c.gType=!0:c.gType=!1,c.backtoList=function(){e.path("/user_"+b.USER_ID+"/")}}]),angular.module("nitoiotweb11App").controller("DocumentsSettingCtrl",["$rootScope","$routeParams","$scope","$http","$location","$window","$timeout",function(a,b,c,d,e,f,g){c.navtitle="商品カタログ",c.catalogDL=function(a){f.location.href="/assets/documents/SP-626.pdf"}}]),angular.module("nitoiotweb11App").controller("DownloadCsvItemSettingCtrl",["$rootScope","$routeParams","$scope","$http","$location","$window","$timeout",function(a,b,c,d,e,f,g){a.error=!1,c.navtitle="データダウンロード",c.selectItems=[{value:1,label:"地震発生データ"},{value:2,label:"速報震度データ"},{value:3,label:"長周期振動データ"},{value:4,label:"転倒データ"},{value:5,label:"雷発生データ"},{value:6,label:"ユーザー一覧(デバイス一覧)"}],c.selectItem=1,c.downloadStartDate=new Date,c.downloadEndDate=new Date,d.get("/api/user/").then(function(a){c.deviceList=a.data.device}),c.download=function(){var b=c.downloadStartDate,e=c.downloadEndDate,h=c.selectItem,i=c.deviceList;d.get("/api/csv/"+i+"/"+h+"/st_"+b+"/et_"+e).then(function(b){if(b.data.error)a.error=b.data.error,g(function(){a.error=!1},2e3);else{var c=b.headers("content-disposition").split("=")[1],d=new Blob([b.data],{type:"text/csv; charset=Shift_JIS"});if(f.navigator.msSaveBlob)f.navigator.msSaveBlob(d,c);else{var e=f.document.getElementById("csv_exporter");null==e&&(e=f.document.createElement("a"),e.setAttribute("id","csv_exporter"),e.setAttribute("style","display:none;"),e.setAttribute("download",c)),e.setAttribute("href",f.URL.createObjectURL(d)),e.click()}}})}}]).config(["$mdDateLocaleProvider",function(a){a.formatDate=function(a){return moment(a).format("YYYY/M/D")}}]),angular.module("nitoiotweb11App").config(["$locationProvider",function(a){a.html5Mode(!0)}]).controller("LoginCtrl",["$rootScope","$routeParams","$scope","$http","$location","$window",function(a,b,c,d,e,f){c.paramName="query",c.getQuery=function(){return e.search()[c.paramName]},c.login=function(){return c.user?void d({method:"POST",url:"/login",data:{userId:c.user.userId,password:c.user.password,query:c.user.query}}).then(function(b){console.log(b),b.data.authStat?f.location.href=b.data.redirect:(c.error=b.data.message,c.dataLoading=!1,$timeout(function(){a.error=!1},2e3))},function(b){c.error=b.data.message,c.dataLoading=!1,$timeout(function(){a.error=!1},2e3)}):!1}}]),angular.module("nitoiotweb11App").controller("LogoutCtrl",["$scope","$location","AuthService",function(a,b,c){a.logout=function(){c.logout().then(function(){b.path("/login")})}}]),angular.module("nitoiotweb11App").config(["$routeProvider",function(a){a.when("/login",{templateUrl:"app/login/login.html"}).when("/user_:USER_ID",{templateUrl:"app/device/deviceList.html"}).when("/user_:USER_ID/device_:DEVICE_ID",{templateUrl:"app/deviceUnit/deviceDetail.html"}).when("/user_:USER_ID/device_:DEVICE_ID/date:YYYYMMDDHHMM/:TYPE",{templateUrl:"app/deviceUnit/deviceDetailData.html"}).when("/user_:USER_ID/group",{templateUrl:"app/deviceGroup/deviceGroup.html"}).when("/user_:USER_ID/device_:DEVICE_ID/edit",{templateUrl:"app/deviceUnit/deviceInfoEdit.html"}).when("/user_:USER_ID/device_:DEVICE_ID/alert",{templateUrl:"app/deviceUnit/alertSetting.html"}).when("/user_:USER_ID/group/alert",{templateUrl:"app/deviceUnit/alertSetting.html"}).when("/user_:USER_ID/data/download",{templateUrl:"app/downloadCSV/downloadCsvItemSetting.html"}).when("/documents",{templateUrl:"app/documents/documents.html"}).when("/user_:USER_ID/device_:DEVICE_ID/env_:type",{templateUrl:"app/deviceUnit/envLog.html"}).otherwise({redirectTo:"/login"})}]),angular.module("nitoiotweb11App").factory("Modal",["$rootScope","$modal",function(a,b){function c(c,d){var e=a.$new();return c=c||{},d=d||"modal-default",angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(a){return a=a||angular.noop,function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("nitoiotweb11App").controller("NavbarCtrl",["$rootScope","$scope","$location","$mdSidenav",function(a,b,c,d){function e(a){return function(){d(a).toggle()}}b.toggleLeft=e("left"),b.menuItemClick=function(a){c.path(a),e("left")};var f=document.cookie.split("; ")[0].split("=")[1],g=document.cookie.split("; ")[1].split("=")[1];"true"==f?b.menuItem=[{label:"デバイス一覧",url:"/user_"+g},{label:"デバイス管理",url:"/user_"+g+"/group"},{label:"CSVダウンロード",url:"/user_"+g+"/data/download"},{label:"商品カタログ",url:"/documents/"},{label:"ログアウト",url:"/logout/"}]:b.menuItem=[{label:"デバイス一覧",url:"/user_"+g},{label:"デバイス管理",url:"/user_"+g+"/group"},{label:"ログアウト",url:"/logout/"}]}]),angular.module("nitoiotweb11App").run(["$templateCache",function(a){a.put("app/device/deviceList.html",'<div ng-controller=DeviceListCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><div class="md-toolbar-tools searchbox"><md-input-container><input ng-model=query><md-icon><svg width=24px height=24px viewbox="296 5 24 24" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><g id=Material/Icons-white/search stroke=none fill=none transform="translate(296.000000, 5.000000)" fill-rule=evenodd><path d="M15.502,9.491 L14.708,9.491 L14.432,9.765 C15.407,10.902 16,12.376 16,13.991 C16,17.581 13.09,20.491 9.5,20.491 C5.91,20.491 3,17.581 3,13.991 C3,10.401 5.91,7.491 9.5,7.491 C11.115,7.491 12.588,8.083 13.725,9.057 L14.001,8.783 L14.001,7.991 L18.999,3 L20.49,4.491 L15.502,9.491 L15.502,9.491 Z M9.5,9.491 C7.014,9.491 5,11.505 5,13.991 C5,16.476 7.014,18.491 9.5,18.491 C11.985,18.491 14,16.476 14,13.991 C14,11.505 11.985,9.491 9.5,9.491 L9.5,9.491 Z" id=Shape fill=#FFFFFF transform="translate(11.745000, 11.745500) scale(1, -1) translate(-11.745000, -11.745500) "></path></g></svg></md-icon></md-input-container></div><div ng-cloak><md-tabs md-dynamic-height md-border-bottom><md-tab label=一覧><!--デバイス一覧--><ul><li ng-repeat="item in deviceList | filter:query" on-finish-render=deviceInfoFinished><md-card><md-list-item class=md-list-item-2 ng-click=deviceDetail()><p class=md-body-5>{{::item.deviceName}}</p><buttondetail></buttondetail></md-list-item><md-card-content><!--職場責任者・連絡先--><div class=md-contentPaddingBottom><div class=md-body-1>職場責任者：{{::item.responsiblePerson}}</div><div class=md-body-1>連絡先：{{::item.telNo}}</div><div class=md-body-1 ng-if="item.status==\'感知あり\'">発生日時：{{item.date}}</div></div><!--感知あり/なし--><div layout=row layout-wrap class=md-card-blank-top><span class=md-body-3>{{::item.status}}</span></div><!--地震の場合--><div layout=row class=md-contentPaddingBottom layout-wrap ng-if="item.type == \'EQ\'"><div flex=25><p flex class=md-body-1>傾き</p><p flex class=md-body-1>商用停電</p><p flex class=md-body-1>機器異常</p></div><div flex=40><p flex class=md-body-3 ng-if=item.slope>あり（{{::item.slope}}）</p><p flex class=md-body-3 ng-if="item.slope == 0">なし</p><p flex class=md-body-3 ng-if=item.commercialBlackout>あり</p><p flex class=md-body-3 ng-if=!item.commercialBlackout>なし</p><p flex class=md-body-3 ng-if=item.equipmentAbnormality>あり</p><p flex class=md-body-3 ng-if=!item.equipmentAbnormality>なし</p></div><div><div flex class=md-body-1>震度</div><div flex class=md-body-6>{{item.seismicIntensity}}</div></div></div><!--雷の場合--><div layout=row class=md-contentPaddingBottom layout-wrap ng-if="item.type == \'FL\'"><div flex=25><p flex class=md-body-1>漏電</p><p flex class=md-body-1>商用停電</p><p flex class=md-body-1>機器異常</p></div><div flex=40><p flex class=md-body-3 ng-if=item.leakage>あり</p><p flex class=md-body-3 ng-if=!item.leakage>なし</p><p flex class=md-body-3 ng-if=item.commercialBlackout>あり</p><p flex class=md-body-3 ng-if=!item.commercialBlackout>なし</p><p flex class=md-body-3 ng-if=item.equipmentAbnormality>あり</p><p flex class=md-body-3 ng-if=!item.equipmentAbnormality>なし</p></div><div><div flex class=md-body-1>雷</div><div flex class=md-body-6>{{item.power}}</div></div></div><p class=md-body-1 ng-if="item.commentList != undefined">コメント・連絡事項</p><ul ng-if="item.commentList != undefined"><li ng-repeat="cl in item.commentList"><p class=md-body-2 ng-if=!cl.importantFlg>{{::cl.comment}}　{{::cl.timestamp}}</p><p class="md-body-2 importantFlg" ng-if=cl.importantFlg>{{::cl.comment}}　{{::cl.timestamp}}</p></li></ul></md-card-content><!--環境センサー--><md-card-content layout-wrap ng-if="env && item.envSensorFlg"><div class=md-body-1>これからの天気</div><div layout=row ng-click="envLogData(\'temp\')"><div flex=25><dl class=text-center><dt class=md-body-1>現在</dt><dd class=nito-env-img><img src=/assets/images/87c3d942.icon_sunny.svg></dd><dd class="md-headline nito-env-temp">{{::env.temperature}}<span class="md-subhead env-temp">℃</span></dd><dd class="md-subhead md-main-text">{{::env.humidity}}<span class=md-body-1>%</span></dd></dl></div><div flex=25><dl class=text-center><dt class=md-body-1>13時</dt><dd class=nito-env-img><img src=/assets/images/f7898cfb.icon_cloud.svg></dd><dd class="md-headline nito-env-temp">32<span class=md-subhead>℃</span></dd><dd class="md-subhead md-main-text">50<span class=md-body-1>%</span></dd></dl></div><div flex=25><dl class=text-center><dt class=md-body-1>14時</dt><dd class=nito-env-img><img src=/assets/images/76c64cd3.icon_rainy.svg></dd><dd class="md-headline nito-env-temp">32<span class=md-subhead>℃</span></dd><dd class="md-subhead md-main-text">50<span class=md-body-1>%</span></dd></dl></div><div flex=25><dl class=text-center><dt class=md-body-1>15時</dt><dd class=nito-env-img><img src=/assets/images/1320ae83.icon_sunny_cloudy.svg></dd><dd class="md-headline nito-env-temp">32<span class=md-subhead>℃</span></dd><dd class="md-subhead md-main-text">50<span class=md-body-1>%</span></dd></dl></div></div><div class=md-body-1>直近の気温・湿度・気圧の推移</div></md-card-content><md-card-content class=nito-env-data layout-wrap ng-if="env && item.envSensorFlg"><div layout=row><div flex=25 class="nito-env-datas nito-env-ap" ng-click="envLogData(\'pressure\')"><dl class=text-center><dt class=md-body-1>気圧</dt><dd class=md-body-2>{{::env.pressure}} <span class=md-body-1>hpa</span></dd></dl></div><div flex=25 class="nito-env-datas nito-env-uv" ng-click="envLogData(\'uvi\')"><dl class=text-center><dt class=md-body-1>紫外線</dt><dd class=md-body-2>{{::env.uvi}}</dd></dl></div><div flex=25 class="nito-env-datas nito-env-di" ng-click="envLogData(\'discomfortIndex\')"><dl class=text-center><dt class=md-body-1>不快指数</dt><dd class=md-body-2>{{::env.discomfortIndex}}</dd></dl></div><div flex=25 class="nito-env-datas nito-env-hi" ng-click="envLogData(\'heatstroke\')"><dl class=text-center><dt class=md-body-1>熱中症指数</dt><dd class=md-body-2>{{::env.heatstroke}}</dd></dl></div></div></md-card-content><md-card-content ng-if="env && item.envSensorFlg"><p class=md-body-1>環境汚染</p><md-list-item ng-click="envLogData(\'noise\')"><p class=md-body-2>騒音</p><span class=md-body-1>{{::env.noise}} dB</span><buttondetail></buttondetail></md-list-item><md-list-item ng-click="envLogData(\'pm25\')"><p class=md-body-2>PM2.5</p><span class=md-body-1>少ない</span><buttondetail></buttondetail></md-list-item><md-list-item ng-click="envLogData(\'pm10\')"><p class=md-body-2>花粉</p><span class=md-body-1>多い</span><buttondetail></buttondetail></md-list-item></md-card-content></md-card></li></ul></md-tab><!--グラフタブ---------------><md-tab label=グラフ><md-input-container class=md-block flex-gt-sm><label>グラフの表示期間を選択</label><md-select ng-change=changeItem ng-model=selectItem><md-option ng-repeat="item in selectItems" value={{item.value}}>{{::item.label}}</md-option></md-select></md-input-container><ul><li ng-repeat="item in deviceList | filter:query" on-finish-render=deviceListFinished><md-card><md-list-item class=md-list-item-2 ng-click=deviceDetail()><p class=md-body-5>{{::item.deviceName}}</p><buttondetail></buttondetail></md-list-item><!--デバイスカード　コンテンツ--><md-card-content><!--地震データ有りの場合 グラフを表示する--><div google-chart chart=charts id={{::item.deviceId}} class=google-chart><p flex class=md-body-1>地震データなし</p></div></md-card-content></md-card></li></ul></md-tab><!--マップタブ---------------><md-tab label=マップ><!--MAP--><div class=map><!-- <ui-gmap-google-map center="map.center" zoom="map.zoom" draggable="true" bounds="map.bounds">\n                <ui-gmap-google-map zoom="map.zoom" draggable="true" bounds="map.bounds">  --><!-- <ui-gmap-markers models="markers" coords="\'self\'" icon="\'icon\'"></ui-gmap-markers>\n              </ui-gmap-google-map> --><div id=map-deviceList></div></div></md-tab></md-tabs></div><!-- </script> --></div><!-- Modal for inProgress --><script type=text/ng-template id=T_inProgress><!-- <div class="modal-body"> -->\n  <md-progress-circular md-mode="indeterminate"></md-progress-circular>\n  <!-- </div> --></script><!-- Modal for inProgress--><footer class=footer></footer>'),a.put("app/deviceGroup/deviceGroup.html",'<div ng-controller=DeviceGroupCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><!--エラーメッセージ--><div ng-show=error class="alert alert-danger">{{error}}</div><div ng-show=success class="alert alert-success">{{success}}</div><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">基本情報</h3></div><md-card><md-card-content><!-- <md-card-title-text> --><span class=md-body-1>グループID</span><p class=md-body-3>{{groupId}}</p><!-- </md-card-title-text> --></md-card-content><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>グループ名</span> <span flex class=md-body-3>{{groupName}}</span></div><md-button class=md-icon-button aria-label=More ng-if=isAdmin><md-icon ng-click=groupNameEdit()><buttonpen></buttonpen></md-icon></md-button></div></md-card-content></md-card><!--ツールバー---><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">管理</h3></div><div ng-cloak><md-tabs md-dynamic-height md-border-bottom><!--デバイスタブ--><md-tab label=デバイス><md-card><md-list-item class=md-secondary ng-repeat="item in deviceList" ng-click=deviceDetail()><p class=md-body-4>{{item.name}}</p><buttondetail></buttondetail></md-list-item></md-card></md-tab><!--アラートタブ--><md-tab label=アラート通知 ng-if=isAdmin><md-card><md-list-item class=md-secondary ng-repeat="item in sendto" ng-click=null><!-- <div layout> --><p class=md-body-4>{{item.name}}</p><p class="md-body-1 mailId">{{item.mailid}}</p><md-menu><md-button class=md-icon-button ng-click=$mdOpenMenu($event) aria-label=More><i class=material-icons>more_vert</i></md-button><md-menu-content><md-menu-item><md-button ng-click=mailAddressEdit($event,false) aria-label="Do something">編集</md-button></md-menu-item><md-menu-item><md-button ng-click=mailAddressDelete() aria-label="Do something">削除</md-button></md-menu-item></md-menu-content></md-menu><!-- </div> --></md-list-item><!--ボタン--><div layout><md-button flex class="md-accent md-button md-ink-ripple md-text-button-1" type=button ng-click=alertSetting() ng-transclude=""><div class="md-ripple-container md-ripple-container-1">通知設定</div></md-button><md-button flex class="md-accent md-button md-ink-ripple md-text-button-2" type=button ng-click=mailAddressAdd($event,true) ng-transclude=""><div class="md-ripple-container md-ripple-container-2">追加</div></md-button></div></md-card></md-tab></md-tabs></div></div><footer class=footer></footer>'),a.put("app/deviceUnit/alertSetting.html",'<div ng-controller=AlertSettingCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><!--エラーメッセージ--><div ng-show=error class="alert alert-danger">{{error}}</div><div ng-show=success class="alert alert-success">{{success}}</div><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">通知闘値</h3></div><md-card><!--switch--><label class=nito-switch-label><span>震度</span><md-switch ng-model=switchSI ng-class="{\'nito-default\':switchSI==true}" ng-change=switchIntensity(switchSI) style=float:left></md-switch><span class=nito-switch-label>SI値</span></label><md-card-content ng-hide=switchSI><md-card-title-text><md-switch ng-model=switch.seismicIntensity class=md-warn><div ng-if=!!switch.seismicIntensity>通知する</div><div ng-if=!switch.seismicIntensity>通知しない</div></md-switch><!--震度スライダー--><md-slider-container ng-if=!!switch.seismicIntensity><md-slider flex="" min=3 max=7 ng-model=slider.seismicIntensity aria-label=red></md-slider><md-input-container><input flex="" ng-model=slider.seismicIntensity aria-label=red aria-controls=red-slider type=number></md-input-container></md-slider-container></md-card-title-text></md-card-content><md-card-content ng-hide=!switchSI><!--switch--><md-switch ng-model=switch.si class=md-warn><div ng-if=!!switch.si>通知する</div><div ng-if=!switch.si>通知しない</div></md-switch><!--SI値スライダー--><md-slider-container ng-if=!!switch.si><md-slider flex="" min=1 max=140 step=0.1 ng-model=slider.si aria-label=red></md-slider><md-input-container><input flex="" ng-model=slider.si aria-label=red aria-controls=red-slider type=number></md-input-container></md-slider-container></md-card-content><md-card-content><md-card-title-text><!--switch--><label>長周期地震動:</label><md-switch ng-model=switch.longPeriodGroundMotion class=md-warn><div ng-if=!!switch.longPeriodGroundMotion>通知する</div><div ng-if=!switch.longPeriodGroundMotion>通知しない</div></md-switch><!--長周期地震動スライダ--><md-slider-container ng-if=!!switch.longPeriodGroundMotion><md-slider flex="" min=1 max=4 ng-model=slider.longPeriodGroundMotion aria-label=red></md-slider><md-input-container><input flex="" ng-model=slider.longPeriodGroundMotion aria-label=red aria-controls=red-slider type=number></md-input-container></md-slider-container></md-card-title-text></md-card-content><md-card-content><md-card-title-text><!--switch--><label>傾き:</label><md-switch ng-model=switch.slope class=md-warn><div ng-if=!!switch.slope>通知する</div><div ng-if=!switch.slope>通知しない</div></md-switch></md-card-title-text></md-card-content><md-card-content><md-card-title-text><!--switch--><label>雷サージ:</label><md-switch ng-model=switch.lightningSurge class=md-warn><div ng-if=!!switch.lightningSurge>通知する</div><div ng-if=!switch.lightningSurge>通知しない</div></md-switch></md-card-title-text></md-card-content><md-card-content><md-card-title-text><!--switch--><label>商用停電:</label><md-switch ng-model=switch.commercialBlackout class=md-warn><div ng-if=!!switch.commercialBlackout>通知する</div><div ng-if=!switch.commercialBlackout>通知しない</div></md-switch></md-card-title-text></md-card-content><md-card-content><md-card-title-text><!--switch--><label>機器異常:</label><md-switch ng-model=switch.equipmentAbnormality class=md-warn><div ng-if=!!switch.equipmentAbnormality>通知する</div><div ng-if=!switch.equipmentAbnormality>通知しない</div></md-switch></md-card-title-text></md-card-content><div layout><md-button flex class="md-accent md-button md-ink-ripple md-text-button-1" type=button ng-click=cancel() ng-transclude=""><div class="md-ripple-container md-ripple-container-1">キャンセル</div></md-button><md-button flex class="md-accent md-button md-ink-ripple md-text-button-2" type=button ng-click=regist($event,true) ng-transclude=""><div class="md-ripple-container md-ripple-container-2">登録</div></md-button></div></md-card></div><footer class=footer></footer>'),a.put("app/deviceUnit/deviceDetail.html",'<div ng-controller=DeviceDetailCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><!-- <md-content class="md-padding"> --><!--基本情報--><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">基本情報</h3></div><md-card><md-card-content><md-card-title-text><span class=md-body-5>{{deviceDetail.deviceName}}</span></md-card-title-text></md-card-content><md-card-content><p class=md-subhead>職場責任者：{{deviceDetail.responsiblePerson}}</p><p class=md-subhead>連絡先：{{deviceDetail.telNo}}</p><p class=md-subhead>住所：{{deviceDetail.address}}</p><p class=md-subhead>メモ：{{deviceDetail.memo}}</p></md-card-content></md-card><!--地震--><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">地震</h3></div><md-card><!--現在のステータス--><md-list-item class=md-list-item-2 ng-click="deviceDetailData(earthquakeCurrentData.data.date_id,\'EQ\')" ng-hide=!earthquakeCurrentData><p class=md-body-5>感知あり</p><buttondetail></buttondetail></md-list-item><md-list-item class=md-list-item-2 ng-hide=earthquakeCurrentData><p class=md-body-5>感知なし</p></md-list-item><!--デバイスカード　コンテンツ--><md-card-content ng-hide=!earthquakeCurrentData><!--地震の場合--><p flex class=md-body-1>発生日時：{{earthquakeCurrentData.data.date}}</p><div layout=row layout-wrap><div flex=25><p flex class=md-body-1>傾き</p><p flex class=md-body-1>商用停電</p><p flex class=md-body-1>機器異常</p></div><div flex=40><p flex class=md-body-3 ng-if=earthquakeCurrentData.data.datas.slope>あり（{{earthquakeCurrentData.datas.slope}}）</p><p flex class=md-body-3 ng-if="earthquakeCurrentData.data.datas.slope == 0">なし</p><p flex class=md-body-3 ng-if=earthquakeCurrentData.data.datas.commercialBlackout>あり</p><p flex class=md-body-3 ng-if=!earthquakeCurrentData.data.datas.commercialBlackout>なし</p><p flex class=md-body-3 ng-if=earthquakeCurrentData.data.datas.equipmentAbnormality>あり</p><p flex class=md-body-3 ng-if=!earthquakeCurrentData.data.datas.equipmentAbnormality>なし</p></div><div><div flex class=md-body-1>震度</div><div flex class=md-body-6>{{earthquakeCurrentData.data.datas[0].seismicIntensity}}</div></div></div></md-card-content><md-card-content ng-hide="commentList.length == 0 || commentList == undefined"><p class=md-body-1>コメント・連絡事項</p><div layout=row layout-wrap><ul><li ng-repeat="item in commentList"><p class=md-body-2 ng-if=!item.value.importantFlg>{{item.value.comment}}　{{item.value.timestamp}}</p><p class="md-body-2 importantFlg" ng-if=item.value.importantFlg>{{item.value.comment}}　{{item.value.timestamp}}</p></li></ul></div></md-card-content><!--TODO メディア速報表示させる---><md-card-content ng-hide="earthquakeCurrentData.datas.mediaNewsletter == undefined"><p class=md-body-1>メディア速報</p><p class=md-body-2>気象庁公報：震度{{earthquakeCurrentData.datas.mediaNewsletter[0].japanMeteorologicalAgency}}</p><p class=md-body-2>長周期地震動階級：{{earthquakeCurrentData.datas.mediaNewsletter[0].longPeriodSeismicActivityClass}}</p></md-card-content><!--地震履歴--><md-card-content><p class=md-body-1>地震履歴</p><md-list-item class=md-secondary ng-repeat="item in earthquakeHistoryList | limitTo: earthquakeHistoryViews: 0" ng-click=deviceDetailData()><p class=md-body-1>{{item.date}}</p><span class=md-body-1>{{item.datas[0].value}}</span> <span class=md-body-1 ng-if="item.datas[0].value == undefined">-</span><buttondetail></buttondetail></md-list-item><p flex class=md-body-3 ng-if="earthquakeHistoryList.length == 0 || earthquakeHistoryList == undefined">履歴なし</p><div layout layout-align=center><md-button class="md-accent md-button md-ink-ripple" type=button ng-click=earthquakeHistoryMoreClick() ng-transclude="" ng-hide="earthquakeHistoryViews >= earthquakeHistoryList.length  || earthquakeHistoryList == undefined"><div class=md-ripple-container>さらに表示</div></md-button></div></md-card-content></md-card><!--雷--><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">雷</h3></div><md-card><!--現在のステータス--><md-list-item class=md-list-item-2 ng-click="deviceDetailData(thunderCurrentData.data.date_id,\'FL\')" ng-hide=!deviceDetail.thunderCurrentData><p class=md-body-5>感知あり</p><buttondetail></buttondetail></md-list-item><md-list-item class=md-list-item-2 ng-hide=deviceDetail.thunderCurrentData><p class=md-body-5>感知なし</p></md-list-item><!--デバイスカード　コンテンツ--><md-card-content ng-hide=!deviceDetail.thunderCurrentData><p flex class=md-body-1>発生日時：{{deviceDetail.thunderCurrentData.date}}</p><div layout=row layout-wrap><div flex=25><p flex class=md-body-1>漏電</p><p flex class=md-body-1>商用停電</p><p flex class=md-body-1>機器異常</p></div><div flex=40><p flex class=md-body-3 ng-if=thunderCurrentData.datas.leakage>あり</p><p flex class=md-body-3 ng-if=!thunderCurrentData.datas.leakage>なし</p><p flex class=md-body-3 ng-if=thunderCurrentData.datas.commercialBlackout>あり</p><p flex class=md-body-3 ng-if=!thunderCurrentData.datas.commercialBlackout>なし</p><p flex class=md-body-3 ng-if=thunderCurrentData.datas.equipmentAbnormality>あり</p><p flex class=md-body-3 ng-if=!thunderCurrentData.datas.equipmentAbnormality>なし</p></div><div><div flex class=md-body-1>雷</div><div flex class=md-body-6>{{thunderCurrentData.power}}</div></div></div></md-card-content><md-card-content ng-hide="thunderCurrentData.datas.commentList == undefined"><p class=md-body-1>コメント・連絡事項</p><div layout=row layout-wrap><ul><li ng-repeat="item in thunderCurrentData.commentList"><p class=md-body-2>{{item.comment}}　{{item.commentDate}}</p></li></ul></div></md-card-content><md-card-content ng-hide="thunderCurrentData.datas.mediaNewsletter == undefined"><!-- <div layout="row" layout-wrap> --><p class=md-body-1>メディア速報</p><p class=md-body-2>気象庁公報：{{thunderCurrentData.mediaNewsletter[0].japanMeteorologicalAgency}}</p><p class=md-body-2>長周期地震動階級{{thunderCurrentData.mediaNewsletter[0].longPeriodSeismicActivityClass}}</p><!-- </div> --></md-card-content><!--雷履歴--><md-card-content><p class=md-body-1>雷履歴</p><md-list-item class=md-secondary ng-repeat="item in thunderHistoryList | limitTo: thunderHistoryViews: 0" ng-click=deviceDetailData()><p class=md-body-1>{{item.date}}</p><span class=md-body-1 ng-if="item.datas[0].value == 1">小</span> <span class=md-body-1 ng-if="item.datas[0].value == 2">中</span> <span class=md-body-1 ng-if="item.datas[0].value == 3">大</span> <span class=md-body-1 ng-if="item.datas[0].value == undefined">-</span><buttondetail></buttondetail></md-list-item><p flex class=md-body-3 ng-if="thunderHistoryList.length == 0 || thunderHistoryList == undefined">履歴なし</p><div layout layout-align=center><md-button class="md-accent md-button md-ink-ripple" type=button ng-click=thunderHistoryMoreClick() ng-transclude="" ng-hide="thunderHistoryViews >= thunderHistoryList.length || thunderHistoryList == undefined"><div class=md-ripple-container>さらに表示</div></md-button></div></md-card-content></md-card><!-- </md-content> --></div><footer class=footer></footer>'),a.put("app/deviceUnit/deviceDetailData.html",'<div ng-controller=DeviceDetailDataCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><div ng-show=error class="alert alert-danger">{{error}}</div><div ng-show=success class="alert alert-success">{{success}}</div><!--地震または雷--><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope"><div ng-if="detailData.type == \'EQ\'">地震</div><div ng-if="detailData.type == \'FL\'"><a class="docs-anchor ng-scope" ng-href=#basic-usage name=basic-usage href=#basic-usage>雷</a></div></h3></div><!--デバイスカード--><md-card><!--デバイスカード　タイトル（デバイス名）--><md-card-content><!--タイトル（デバイス名）--><md-card-title-text><span class=md-body-5>感知あり</span></md-card-title-text></md-card-content><!--デバイスカード　コンテンツ--><md-card-content><!--地震の場合--><div layout=row ng-if="detailData.type == \'EQ\'"><div flex=25><p flex class=md-body-1>傾き</p><p flex class=md-body-1>商用停電</p><p flex class=md-body-1>機器異常</p></div><div flex=40><p flex class=md-body-3>{{detailData.slope}}</p><p flex class=md-body-3>{{detailData.commercialBlackout}}</p><p flex class=md-body-3>{{detailData.equipmentAbnormality}}</p></div><div><div flex class=md-body-1>震度</div><div flex class=md-body-6>{{detailData.seismicIntensity}}</div></div></div><!--雷の場合--><div layout=row layout-wrap ng-if="detailData.type == \'FL\'"><div flex=25><p flex class=md-body-1>漏電</p><p flex class=md-body-1>商用停電</p><p flex class=md-body-1>機器異常</p></div><div flex=40><p flex class=md-body-3>{{detailData.leakage}}</p><p flex class=md-body-3>{{detailData.commercialBlackout}}</p><p flex class=md-body-3>{{detailData.equipmentAbnormality}}</p></div><div><div flex class=md-body-1>雷</div><div flex class=md-display-3>{{detailData.power}}</div></div></div></md-card-content><md-card-content><p class=md-body-1>コメント・連絡事項</p><div layout=row layout-wrap ng-hide="detailData.commentList == undefined"><ul><li ng-repeat="item in detailData.commentList"><p class=md-body-2 ng-if=!item.value.importantFlg>{{item.value.comment}}　{{item.value.timestamp}}</p><p class="md-body-2 importantFlg" ng-if=item.value.importantFlg>{{item.value.comment}}　{{item.value.timestamp}}</p></li></ul></div><md-button class="md-accent md-button md-ink-ripple" type=button ng-click=addComment() ng-transclude=""><div class=md-ripple-container>コメント追加</div></md-button></md-card-content><md-card-content ng-hide="detailData.mediaNewsletter == undefined"><div class=md-body-1>メディア速報</div><div class=md-body-2>気象庁公報：震度{{detailData.mediaNewsletter.japanMeteorologicalAgency}}</div><div class=md-body-2>長周期地震動階級：{{detailData.mediaNewsletter.longPeriodSeismicActivityClass}}</div></md-card-content></md-card><!--グラフ--><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">グラフ</h3></div><md-card><md-card-title><span class=md-body-3>合成加速度</span></md-card-title><img ng-src={{chart_acceleration}}></md-card><!--マップ--><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">マップ</h3></div><md-card><md-content class=md-padding><div id=map-detailData></div></md-content></md-card></div><footer class=footer></footer>'),a.put("app/deviceUnit/deviceInfoEdit.html",'<div ng-controller=DeviceInfoEditCtrl ng-cloak="" class=navBardemoBasicUsage id=popupContainer><!--ヘッダー読み込み--><navitop></navitop><!--エラーメッセージ--><div ng-show=error class="alert alert-danger">{{error}}</div><div ng-show=success class="alert alert-success">{{success}}</div><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">基本情報</h3></div><md-card><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>デバイスID</span> <span flex class=md-body-3>{{deviceGroupData.deviceId}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.deviceId == undefined">-</span></div></div></md-card-content><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>デバイス名</span> <span flex class=md-body-3>{{deviceGroupData.deviceName}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.deviceName == undefined">-</span></div><md-button class=md-icon-button aria-label=More ng-click=deviceNameEdit($event)><md-icon><buttonpen></buttonpen></md-icon></md-button></div></md-card-content><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>住所</span> <span flex class=md-body-3>{{deviceGroupData.address}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.address == undefined">-</span></div><md-button class=md-icon-button aria-label=More ng-click=addressEdit($event)><md-icon><buttonpen></buttonpen></md-icon></md-button></div></md-card-content><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>緯度・経度</span> <span flex class=md-body-3>緯度 {{deviceGroupData.latitude}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.latitude == undefined">緯度 -</span> <span flex class=md-body-3>経度 {{deviceGroupData.longitude}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.longitude == undefined">経度 -</span></div><md-button class=md-icon-button aria-label=More ng-click=latlonEdit($event)><md-icon><buttonpen></buttonpen></md-icon></md-button></div></md-card-content><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>メモ</span> <span flex class=md-body-3>{{deviceGroupData.memo}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.memo == undefined">-</span></div><md-button class=md-icon-button aria-label=More ng-click=memoEdit($event)><md-icon><buttonpen></buttonpen></md-icon></md-button></div></md-card-content><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>責任者</span> <span flex class=md-body-3>{{deviceGroupData.responsiblePerson}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.responsiblePerson == undefined">-</span></div><md-button class=md-icon-button aria-label=More ng-click=responsiblePersonEdit($event)><md-icon><buttonpen></buttonpen></md-icon></md-button></div></md-card-content><md-card-content><div layout=row layout-align="start end"><div flex=90 layout=column><span flex class=md-body-1>連絡先</span> <span flex class=md-body-3>{{deviceGroupData.telNo}}</span> <span flex class=md-body-3 ng-if="deviceGroupData.telNo == undefined">-</span></div><md-button class=md-icon-button aria-label=More ng-click=telNoEdit($event)><md-icon><buttonpen></buttonpen></md-icon></md-button></div></md-card-content></md-card><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">アラート通知</h3></div><md-card><md-list-item class=md-secondary ng-repeat="item in sendto" ng-click=false><p class=md-body-4>{{item.name}}</p><p class="md-body-1 mailId">{{item.mailid}}</p><md-menu><md-button class=md-icon-button ng-click=$mdOpenMenu($event) aria-label=More><i class=material-icons>more_vert</i></md-button><md-menu-content><md-menu-item><md-button ng-click=mailAddressEdit($event,false) aria-label="Do something">編集</md-button></md-menu-item><md-menu-item><md-button ng-click=mailAddressDelete() aria-label="Do something">削除</md-button></md-menu-item></md-menu-content></md-menu></md-list-item><!--ボタン--><div layout><md-button flex class="md-accent md-button md-ink-ripple md-text-button-1" type=button ng-click=alertSetting() ng-transclude=""><div class="md-ripple-container md-ripple-container-1">通知設定</div></md-button><md-button flex class="md-accent md-button md-ink-ripple md-text-button-2" type=button ng-click=mailAddressAdd($event,true) ng-transclude=""><div class="md-ripple-container md-ripple-container-2">追加</div></md-button></div></md-card><footer class=footer></footer><script type=text/ng-template id=dialog1.tmpl.html><form name="dialog">\n  <md-dialog class="latlonEdit">\n    <md-dialog-content class="md-dialog-content" role="document" tabindex="-1" id="dialogContent_2">\n      <h2 class="md-title ng-binding">緯度・経度</h2>\n      <div class="md-dialog-content-body ng-scope">\n       <p class="ng-binding"></p>\n     </div>\n   <!--MAP-->\n   <div class="map mapEdit">\n     <ui-gmap-google-map center="map.center" zoom="map.zoom" events="map.events" draggable="true" bounds="map.bounds" control="map.control">\n       <ui-gmap-markers models="markers" coords="\'self\'" icon="\'icon\'"></ui-gmap-markers>\n     </ui-gmap-google-map>\n   </div>\n   <div class="md-body-1">緯度 {{latitude}}</div>\n   <div class="md-body-1">経度 {{longitude}}</div>\n   </md-dialog-content>\n   <md-dialog-actions>\n   <button class="md-primary md-cancel-button md-button ng-scope md-default-theme md-ink-ripple" type="button" ng-click="closeDialog()" style="">キャンセル</button>\n   <button class="md-primary md-confirm-button md-button md-ink-ripple md-default-theme" type="button" ng-click="regist()">登録</button>\n   </md-dialog-actions>\n   </md-dialog>\n   </form></script></div>'),
a.put("app/deviceUnit/envLog.html",'<div ng-controller=EnvLogCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><md-card><md-card-content><div ng-if=gType><img src=/assets/images/7687d6a6.dummy_figure.png style=width:100%></div><div ng-if=!gType><img src=/assets/images/b990a3ff.dummy_figure2.png style=width:100%></div><div layout layout-align=center><md-button class="md-accent md-button md-ink-ripple" type=button ng-click=backtoList() ng-transclude=""><div class=md-ripple-container>戻る</div></md-button></div></md-card-content></md-card></div><footer class=footer></footer>'),a.put("app/documents/documents.html",'<div ng-controller=DocumentsSettingCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><md-card><md-card-content><md-list-item ng-click="catalogDL(\'a\')"><p class=md-body-2>商品A　カタログ</p><buttondetail></buttondetail></md-list-item><md-list-item ng-click="catalogDL(\'b\')"><p class=md-body-2>商品B　カタログ</p><buttondetail></buttondetail></md-list-item></md-card-content></md-card></div><footer class=footer></footer>'),a.put("app/downloadCSV/downloadCsvItemSetting.html",'<div ng-controller=DownloadCsvItemSettingCtrl ng-cloak="" class=navBardemoBasicUsage><!--ヘッダー読み込み--><navitop></navitop><!--エラーメッセージ--><div ng-show=error class="alert alert-danger">{{error}}</div><div class=md-toolbar-tools><h3 class="ng-binding ng-isolate-scope">CSVデータ設定</h3></div><md-card><!--開始期間--><md-card-content><md-input-container class=nito-datepicker><label>開始期間</label><md-datepicker ng-model=downloadStartDate></md-datepicker></md-input-container></md-card-content><!--終了期間--><md-card-content><md-input-container class=nito-datepicker><label>終了期間</label><md-datepicker ng-model=downloadEndDate></md-datepicker></md-input-container></md-card-content><!--デバイスセレクトボックス--><md-card-content><md-input-container class=md-block flex-gt-sm><label>デバイス</label><md-select ng-model=deviceList><md-option ng-repeat="item in deviceList" value={{item.id}}>{{item.name}}</md-option></md-select></md-input-container></md-card-content><!--デバイスセレクトボックス--><!--ダウンロードデータセレクトボックス--><md-card-content><md-input-container class=md-block flex-gt-sm><label>ダウンロードデータ</label><md-select ng-model=selectItem><md-option ng-repeat="item in selectItems" value={{item.value}}>{{item.label}}</md-option></md-select></md-input-container></md-card-content><md-card-content><!--ダウンロードボタン--><div layout layout-align=center><md-button class="md-accent md-button md-ink-ripple" type=button ng-click=download() ng-transclude=""><div class=md-ripple-container>ダウンロード</div></md-button></div></md-card-content></md-card></div><footer class=footer></footer>'),a.put("app/login/login.html",'<!--ログイン画面--><div ng-controller=LoginCtrl><div ng-show=error class="alert alert-danger">{{error}}</div><md-card class=loginbar><div class=logoContent><img src=/assets/images/60f10a67.nito_logo.png><div class=md-body-8>ホームチェッカー</div></div></md-card><md-card class=loginContent><input type=hidden ng-value=user.query ng-init="user.query = getQuery()"><div class="md-body-7 loginText">Login</div><md-input-container class=md-block><label>ID</label><input ng-model=user.userId></md-input-container><md-input-container class=md-block><label>パスワード</label><input ng-model=user.password></md-input-container><div layout layout-align=center><md-button flex class="md-accent md-button md-ink-ripple md-text-button-2" type=button ng-click=login() ng-transclude=""><div class="md-ripple-container md-ripple-container-2">ログイン</div></md-button></div></md-card><!-- <button class="btn btn-primary" type="buttom" ng-click="login()">Login</button> --></div>'),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarCtrl><!-- <div class="container"> --><div><!-- <div class="navbar-header">\n      <div layout="colom">\n      <md-button class="md-icon-button md-primary humbergerMenu" ng-click="toggleLeft()" aria-label="Settings">\n        <i class="material-icons">menu</i>\n      </md-button>\n      <div class="navbar-brand">{{navtitle}}</div>\n    </div>\n    </div> --><md-toolbar class=md-hue-2><div class="md-toolbar-tools commonNavbar"><!-- <md-button class="md-icon-button" aria-label="Settings" ng-disabled="true">\n          <md-icon md-svg-icon="img/icons/menu.svg"></md-icon>\n        </md-button> --><md-button class="md-icon-button md-primary humbergerMenu" ng-click=toggleLeft() aria-label=Settings><!-- <i class="material-icons">menu</i> --><svg width=24px height=24px viewbox="16 40 24 24" version=1.1 xmlns=http://www.w3.org/2000/svg xmlns:xlink=http://www.w3.org/1999/xlink><!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch --><desc>Created with Sketch.</desc><defs></defs><g id=Material/Icons-black/menu stroke=none fill=none opacity=0.54 transform="translate(16.000000, 40.000000)" fill-rule=evenodd><path d="M3,18 L21,18 L21,16 L3,16 L3,18 L3,18 Z M3,13 L21,13 L21,11 L3,11 L3,13 L3,13 Z M3,6 L3,8 L21,8 L21,6 L3,6 L3,6 Z" id=Shape fill=#000000></path></g></svg></md-button><h2 flex="" md-truncate="">{{navtitle}}</h2></div></md-toolbar></div></div><!---メニュー---><section layout=row flex=""><md-sidenav class=md-sidenav-left md-component-id=left md-disable-backdrop="" md-whiteframe=4><md-list-item class=md-3-line ng-repeat="item in menuItem" ng-click=menuItemClick(item.url)><p class=md-body-4>{{item.label}}</p></md-list-item></md-sidenav></section>')}]);